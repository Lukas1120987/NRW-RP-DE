<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="Anleitung zum Beitreten der NRW RP DE Community - Serverauswahl und schrittweise Anleitung." />
  <title>Beitreten – NRW RP DE</title>

  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

  <style>
    /* ========== RESET & GRUNDSTIL ========== */
    :root{
      --primary: #5865f2;
      --primary-dark: #4752c4;
      --bg: #0e0e12;
      --surface: #1c1d22;
      --muted: #888;
      --text: #e0e0e0;
      --text-muted: #cfcfcf;
      --card-shadow: rgba(0,0,0,0.35);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
    html,body { height:100%; }
    body {
      font-family: 'Roboto', sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      display: flex;
      min-height: 100vh;
      overflow-x: hidden;
    }
    a { color: var(--primary); text-decoration: none; }
    a:hover { text-decoration: underline; }

    /* ========== APP LAYOUT ========== */
    .app { display: flex; width: 100%; }

    /* ===================== Sidebar ===================== */
    .sidebar {
      width: 260px;
      background: #1a1b20;
      display: flex;
      flex-direction: column;
      position: fixed;
      top: 0;
      left: 0;
      bottom: 0;
      padding: 1rem;
      transition: transform 0.3s ease;
      z-index: 1000;
    }
    .sidebar.hidden { transform: translateX(-100%); }
    .sidebar-top {
      display:flex;
      align-items:center;
      gap:0.75rem;
    }
    .sidebar-logo {
      width: 48px;
      height: 48px;
      border-radius: 8px;
      object-fit:cover;
      background: linear-gradient(135deg,#16161a,#26282f);
      border:1px solid rgba(255,255,255,0.03);
    }
    .btn-icon {
      background: none;
      border: none;
      color: var(--text-muted);
      font-size: 1.6rem;
      cursor: pointer;
      padding: 0.25rem 0.4rem;
      border-radius: 6px;
    }
    .btn-icon:hover { color: #fff; background: rgba(255,255,255,0.02); }

    .sidebar-nav {
      margin-top: 1.75rem;
      display:flex;
      flex-direction:column;
      gap:0.6rem;
    }
    .sidebar-nav a {
      padding: 0.72rem 0.9rem;
      border-radius: 8px;
      transition: background 0.18s, transform 0.18s;
      font-weight: 500;
      color: var(--text-muted);
      display:block;
    }
    .sidebar-nav a:hover { background: #222328; transform: translateX(4px); color: #fff; }
    .sidebar-nav a.active {
      background: rgba(88,101,242,0.12);
      color: #fff;
      border-left: 4px solid var(--primary);
      padding-left: calc(0.9rem - 4px);
    }
    .sidebar-footer {
      margin-top: auto;
      text-align:center;
      font-size:0.85rem;
      color: var(--muted);
      padding-top: 1rem;
      border-top: 1px solid rgba(255,255,255,0.02);
    }

    /* ========== MAIN ========== */
    .main {
      margin-left: 260px;
      width: calc(100% - 260px);
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      transition: margin-left 0.3s ease;
    }
    .main.fullwidth { margin-left: 0; width: 100%; }

    /* ========== TOPBAR ========== */
    .topbar {
      background: #18191c;
      padding: 1rem 1.5rem;
      display:flex;
      align-items:center;
      justify-content:space-between;
      position: sticky;
      top: 0;
      z-index: 900;
      border-bottom: 1px solid #2c2d33;
    }
    .topbar-left { display:flex; align-items:center; gap:0.75rem; }
    .topbar-title { font-size: 1.15rem; font-weight:700; }
    .btn-primary {
      background: var(--primary);
      padding: 0.6rem 1rem;
      color: #fff;
      border-radius: 8px;
      font-weight:700;
      border: none;
      cursor: pointer;
      transition: transform 0.14s, box-shadow 0.18s, background 0.14s;
    }
    .btn-primary:hover { background: var(--primary-dark); transform: translateY(-2px); box-shadow: 0 6px 18px rgba(71,82,196,0.18); }

    /* ========== SECTION ========== */
    .section {
      padding: 2rem 2.5rem;
      max-width: 980px;
      margin: 0 auto;
      width: 100%;
    }
    .section h1 {
      font-size: 1.9rem;
      margin-bottom: 0.6rem;
      color: #fff;
    }
    .section p { margin-bottom: 1rem; color: var(--text-muted); }

    /* ========== SERVER SELECTION ========== */
    .servers {
      display:flex;
      gap:0.8rem;
      flex-wrap:wrap;
      margin-top: 1rem;
    }
    .server-card {
      background: linear-gradient(180deg,#15161a,#1b1c22);
      border:1px solid rgba(255,255,255,0.03);
      padding:1rem;
      border-radius:10px;
      min-width:220px;
      flex:1 1 220px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.45);
      transition: transform 0.18s, box-shadow 0.18s;
    }
    .server-card:hover { transform: translateY(-6px); box-shadow: 0 20px 40px rgba(0,0,0,0.55); }
    .server-card h3 { font-size:1.05rem; margin-bottom:0.35rem; color:#fff; }
    .server-card p { color:var(--text-muted); margin-bottom:0.8rem; }
    .server-actions { display:flex; gap:0.5rem; align-items:center; }

    .btn-quiet {
      background: #2b2d31; color: #fff; padding:0.45rem 0.7rem; border-radius:8px; border:none; cursor:pointer;
    }
    .btn-quiet:hover { background:#3a3d42; transform: translateY(-2px); }

    /* ========== STEPS ========== */
    .steps {
      display:flex;
      flex-direction:column;
      gap:1rem;
      margin-top:2rem;
    }
    .step {
      background: var(--surface);
      padding:1.25rem;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.03);
      box-shadow: 0 8px 24px var(--card-shadow);
      transition: transform 0.25s ease, opacity 0.3s ease;
      opacity: 0;
      transform: translateY(18px);
    }
    .step.visible {
      opacity: 1;
      transform: translateY(0);
      transition: transform 0.6s cubic-bezier(.2,.9,.2,1), opacity 0.6s ease;
    }
    .step h3 { font-size:1.05rem; margin-bottom:0.4rem; color:#fff; }
    .step p { color: var(--text-muted); }

    /* ========== CTA BOX ========== */
    .cta-box {
      background: linear-gradient(135deg,#1e1f26,#24252e);
      padding:1.5rem;
      border-radius:12px;
      margin-top:1.75rem;
      text-align:center;
      border:1px solid rgba(255,255,255,0.02);
      box-shadow: 0 12px 36px rgba(0,0,0,0.5);
    }
    .cta-box h2 { font-size:1.15rem; margin-bottom:0.6rem; color:#fff; }
    .cta-box p { color: var(--text-muted); margin-bottom:0.8rem; }

    /* ========== MODAL ========== */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      padding: 1rem;
    }
    .modal-backdrop.active { display:flex; animation: fadeIn 180ms ease-out; }
    .modal {
      background: linear-gradient(180deg,#111214,#17181b);
      padding: 1.2rem 1.15rem;
      border-radius:12px;
      width: 100%;
      max-width: 520px;
      box-shadow: 0 20px 50px rgba(0,0,0,0.6);
      transform-origin: center;
      border:1px solid rgba(255,255,255,0.03);
      animation: popIn 220ms ease-out;
    }
    .modal header { display:flex; align-items:center; justify-content:space-between; gap:0.6rem; }
    .modal h3 { font-size:1.05rem; color:#fff; }
    .modal p { color:var(--text-muted); margin-top:0.5rem; margin-bottom:0.9rem; }
    .modal .modal-actions { display:flex; gap:0.6rem; justify-content:flex-end; }
    .modal .btn-cancel { background:#2b2d31; color:#fff; padding:0.5rem 0.75rem; border-radius:8px; border:none; cursor:pointer; }
    .modal .btn-join { background: var(--primary); color:#fff; padding:0.5rem 0.85rem; border-radius:8px; border:none; cursor:pointer; font-weight:700; }

    @keyframes fadeIn {
      from { opacity: 0; } to { opacity: 1; }
    }
    @keyframes popIn {
      from { transform: scale(.98) translateY(6px); opacity: 0; } to { transform: scale(1) translateY(0); opacity: 1; }
    }

    /* ========== RESPONSIVE ========== */
    @media (max-width: 900px) {
      .sidebar { transform: translateX(-100%); position: fixed; }
      .sidebar.open { transform: translateX(0); }
      .main { margin-left: 0; width: 100%; }
      .section { padding: 1.25rem; }
      .servers { flex-direction: column; }
    }
  </style>
</head>
<body>
  <div class="app">
    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar">
      <div class="sidebar-top">
        <img src="bilder/logo.png" alt="Logo" class="sidebar-logo" />
        <button id="closeSidebar" class="btn-icon" aria-label="Schließen">×</button>
      </div>

      <nav class="sidebar-nav" aria-label="Hauptnavigation">
        <a href="index.html">Start</a>
        <a href="about.html">Über uns</a>
        <a href="factions.html">Fraktionen</a>
        <a href="rules.html">Regelwerk</a>
        <a href="events.html">Events</a>
        <a href="team.html">Team</a>
        <a href="join.html" class="active">Beitreten</a>
      </nav>

      <div class="sidebar-footer">
        <small>&copy; 2025 NRW RP DE</small>
      </div>
    </aside>

    <!-- Main -->
    <main id="main" class="main">
      <header class="topbar" role="banner">
        <div class="topbar-left">
          <button id="toggleSidebar" class="btn-icon" aria-label="Menü öffnen">☰</button>
          <div class="topbar-title">Beitreten</div>
        </div>
        <div>
          <button id="openDiscord" class="btn-primary" title="Discord öffnen">Discord</button>
        </div>
      </header>

      <section class="section" aria-labelledby="page-title">
        <h1 id="page-title">So trittst du unserem Server bei</h1>
        <p>Wähle zuerst den gewünschten Server aus. Für jeden Server zeigen wir eine kurze Information und eine Bestätigung, bevor ein Link geöffnet wird.</p>

        <!-- Server Auswahl -->
        <div class="servers" role="list" aria-label="Serverauswahl">
          <article class="server-card" role="listitem" data-url="https://discord.gg/rGXZg3XV5X" data-name="NRW RP" data-desc="Standard-Server mit Fokus auf realistische Szenarien und Einsteigerfreundlichkeit.">
            <h3>NRW RP</h3>
            <p>Standard-Server mit Fokus auf realistische Szenarien und Einsteigerfreundlichkeit.</p>
            <div class="server-actions">
              <button class="btn-quiet btn-info">Information</button>
              <button class="btn-quiet btn-select">Server wählen</button>
            </div>
          </article>

          <article class="server-card" role="listitem" data-url="https://discord.gg/dutcDNFZZn" data-name="Hardcore RP" data-desc="Intensives Hardcore Roleplay mit strengeren Regeln und hohen Ansprüchen an Immersion.">
            <h3>Hardcore RP</h3>
            <p>Intensives Hardcore Roleplay mit strengeren Regeln und hohen Ansprüchen an Immersion.</p>
            <div class="server-actions">
              <button class="btn-quiet btn-info">Information</button>
              <button class="btn-quiet btn-select">Server wählen</button>
            </div>
          </article>
        </div>

        <!-- Interaktive Schritte -->
        <div class="steps" id="steps">
          <div class="step" data-step="1">
            <h3>Schritt 1 – Konto einrichten</h3>
            <p>Erstelle ein Konto (falls noch nicht vorhanden). Achte auf eine sichere E-Mail und eine gute Passwortwahl.</p>
          </div>

          <div class="step" data-step="2">
            <h3>Schritt 2 – Spiel beitreten</h3>
            <p>Starte das Spiel (oder die entsprechende Plattform), über die der Server läuft. Details findest du in der Serverinformation.</p>
          </div>

          <div class="step" data-step="3">
            <h3>Schritt 3 – Regeln lesen</h3>
            <p>Bitte lies das Regelwerk gründlich. Verstöße gegen die Regeln können zu Sanktionen führen.</p>
            <p><a href="rules.html">Regelwerk ansehen</a></p>
          </div>

          <div class="step" data-step="4">
            <h3>Schritt 4 – Bewerbung und Support</h3>
            <p>Für bestimmte Spielweisen ist eine Bewerbung erforderlich. Nutze unseren Discord für Bewerbungen und Support.</p>
          </div>

          <div class="step" data-step="5">
            <h3>Schritt 5 – Loslegen</h3>
            <p>Nachdem alles erledigt ist, wirst du in die Community eingeführt. Viel Erfolg und viel Spaß beim Roleplay.</p>
          </div>
        </div>

        <div class="cta-box" aria-hidden="false">
          <h2>Bereit für den nächsten Schritt?</h2>
          <p>Wähle einen Server aus, um eine kurze Info zu erhalten und die Bestätigung anzuzeigen.</p>
          <div style="margin-top:0.5rem;">
            <button id="chooseServer" class="btn-primary">Server auswählen</button>
          </div>
        </div>
      </section>

      <footer class="footer">
        <small>&copy; 2025 NRW RP DE</small>
      </footer>
    </main>
  </div>

  <!-- Modal (Info & Bestätigung) -->
  <div id="modalBackdrop" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document" aria-labelledby="modalTitle">
      <header>
        <h3 id="modalTitle">Server bestätigen</h3>
        <button id="modalClose" class="btn-icon" aria-label="Schließen">×</button>
      </header>
      <div id="modalBody">
        <p id="modalDesc">Kurzinfo zum Server.</p>
      </div>
      <div class="modal-actions" style="margin-top:0.6rem;">
        <button id="modalCancel" class="btn-cancel">Abbrechen</button>
        <button id="modalJoin" class="btn-join">Beitreten</button>
      </div>
    </div>
  </div>

  <script>
    (function(){
      document.addEventListener('DOMContentLoaded', () => {
        const sidebar = document.getElementById('sidebar');
        const toggleSidebar = document.getElementById('toggleSidebar');
        const closeSidebar = document.getElementById('closeSidebar');
        const main = document.getElementById('main');

        // sidebar toggle
        toggleSidebar.addEventListener('click', () => {
          sidebar.classList.toggle('hidden');
          main.classList.toggle('fullwidth');
        });
        closeSidebar.addEventListener('click', () => {
          sidebar.classList.add('hidden');
          main.classList.remove('fullwidth');
        });
        // auto close on nav click (mobile)
        document.querySelectorAll('.sidebar-nav a').forEach(a => {
          a.addEventListener('click', () => {
            sidebar.classList.add('hidden');
            main.classList.remove('fullwidth');
          });
        });

        // Server modal logic
        const modalBackdrop = document.getElementById('modalBackdrop');
        const modalTitle = document.getElementById('modalTitle');
        const modalDesc = document.getElementById('modalDesc');
        const modalJoin = document.getElementById('modalJoin');
        const modalCancel = document.getElementById('modalCancel');
        const modalClose = document.getElementById('modalClose');

        let selectedServer = null;

        function openModal(name, desc, url) {
          selectedServer = { name, desc, url };
          modalTitle.textContent = 'Server: ' + name;
          modalDesc.textContent = desc;
          modalJoin.textContent = 'Beitreten';
          modalBackdrop.classList.add('active');
          modalBackdrop.setAttribute('aria-hidden', 'false');
          // focus join button for keyboard users
          setTimeout(() => modalJoin.focus(), 120);
        }

        function closeModal() {
          modalBackdrop.classList.remove('active');
          modalBackdrop.setAttribute('aria-hidden', 'true');
          selectedServer = null;
        }

        // attach info/select handlers
        document.querySelectorAll('.server-card').forEach(card => {
          const name = card.getAttribute('data-name');
          const desc = card.getAttribute('data-desc');
          const url  = card.getAttribute('data-url');

          const infoBtn = card.querySelector('.btn-info');
          const selectBtn = card.querySelector('.btn-select');

          infoBtn.addEventListener('click', () => {
            // quick info in a non-blocking modal (same modal used)
            modalTitle.textContent = 'Information: ' + name;
            modalDesc.textContent = desc + ' (Link wird nach Bestätigung geöffnet.)';
            modalJoin.textContent = 'Bereitstellen';
            modalBackdrop.classList.add('active');
            modalBackdrop.setAttribute('aria-hidden', 'false');
            selectedServer = { name, desc, url };
            setTimeout(() => modalJoin.focus(), 120);
          });

          selectBtn.addEventListener('click', () => {
            openModal(name, desc + ' Möchten Sie dem Server beitreten?', url);
          });
        });

        // modal actions
        modalClose.addEventListener('click', closeModal);
        modalCancel.addEventListener('click', closeModal);
        modalBackdrop.addEventListener('click', (e) => {
          if (e.target === modalBackdrop) closeModal();
        });

        modalJoin.addEventListener('click', () => {
          if (!selectedServer) return;
          // open the link in a new tab
          // NOTE: data-url values should contain the actual invitation or server link
          window.open(selectedServer.url || '#', '_blank', 'noopener');
          closeModal();
        });

        // Open Discord quick button (opens confirmation too)
        document.getElementById('openDiscord').addEventListener('click', () => {
          // show a small confirmation modal for Discord; reuse modal
          openModal('Discord', 'Der Discord-Server ist unser zentraler Ort für Bewerbungen, Support und Ankündigungen. Möchten Sie Discord jetzt öffnen?', 'https://example.com/discord');
        });

        document.getElementById('chooseServer').addEventListener('click', () => {
          // scroll to server selection and highlight
          const first = document.querySelector('.server-card');
          if (first) {
            first.scrollIntoView({ behavior: 'smooth', block: 'center' });
            first.classList.add('highlight');
            setTimeout(() => first.classList.remove('highlight'), 900);
          }
        });

        // Intersection Observer for step fade-in
        const steps = document.querySelectorAll('.step');
        const observer = new IntersectionObserver((entries, obs) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('visible');
              obs.unobserve(entry.target);
            }
          });
        }, { threshold: 0.2 });

        steps.forEach(s => observer.observe(s));
      });
    })();
  </script>
</body>
</html>
