<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NRW RP DE – Reports</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #0b0f19;
  --panel: #111626;
  --accent: #5865F2;
  --accent2: #4752C4;
  --text: #f0f0f0;
  --muted: #9ca3af;
  --success-bg: rgba(72, 187, 120, 0.15);
  --success-border: #48bb78;
  --error-color: #ff6b6b;
}
body {
  margin: 0; font-family: "Inter", sans-serif;
  background: var(--bg); color: var(--text);
  display: flex; flex-direction: column; min-height: 100vh;
}
header {
  background: rgba(17,22,38,0.9); backdrop-filter: blur(6px);
  display: flex; justify-content: space-between; align-items: center;
  padding: 1rem 2rem; border-bottom: 1px solid #1f2540;
}
header h1 { color: var(--accent); font-size: 1.5rem; }
#userInfo { display: flex; align-items: center; gap: .5rem; }
#userInfo img { width: 32px; height: 32px; border-radius: 50%; }
#loginBtn {
  background: linear-gradient(135deg,var(--accent),var(--accent2));
  color: #fff; border: none; border-radius: 8px; padding: .6rem 1.2rem;
  cursor: pointer; font-weight: 600; transition: .2s;
}
#loginBtn:hover { transform: scale(1.05); }

main {
  flex: 1; display: flex; flex-direction: column; align-items: center;
  padding: 2rem 1rem;
}
.tabs {
  display: flex; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap; justify-content: center;
}
.tabBtn {
  background: #151b2e; border: 1px solid #1e2440; color: var(--muted);
  border-radius: 8px; padding: .6rem 1rem; cursor: pointer; font-weight: 600;
  transition: .2s;
}
.tabBtn.active, .tabBtn:hover { color: var(--accent); border-color: var(--accent); }

.panel {
  background: var(--panel); border-radius: 12px; padding: 2rem; max-width: 650px; width: 100%;
  box-shadow: 0 0 25px rgba(0,0,0,.5);
  opacity: 0; transform: translateY(20px);
  transition: opacity .3s, transform .3s;
  visibility: hidden;
}
.panel.active {
  opacity: 1; transform: translateY(0); visibility: visible;
}

form { display: flex; flex-direction: column; gap: 1rem; }
input, textarea, select {
  background: #0f1324; border: 1px solid #1e2440; border-radius: 8px;
  color: var(--text); padding: .75rem; font-family: inherit; width: 100%;
}
textarea { min-height: 100px; resize: vertical; }
.dropzone {
  border: 2px dashed var(--accent); border-radius: 10px;
  text-align: center; padding: 1.5rem; color: var(--muted);
  transition: .3s; cursor: pointer;
}
.dropzone.dragover { background: rgba(88,101,242,0.1); border-color: #8a95ff; color: #c7cbff; }
button.submit {
  background: linear-gradient(135deg,var(--accent),var(--accent2));
  color: white; border: none; border-radius: 8px; padding: .8rem;
  font-weight: 600; cursor: pointer; transition: .2s;
}
button.submit:hover { transform: translateY(-2px); }
.success {
  text-align: center; background: var(--success-bg); border: 1px solid var(--success-border);
  padding: .8rem; border-radius: 8px; font-size: 1.1rem; display: none; margin-top: 1rem;
  opacity: 0; transition: opacity .5s;
}
.success.show { display: block; opacity: 1; }
.file-preview { font-size: 0.9rem; color: var(--muted); }
.appeals { margin-top:2rem; display:flex; gap:1rem; justify-content:center; flex-wrap:wrap;}
.appeals a { text-decoration:none; color:#fff; background:#151b2e; border:1px solid #2b3150; padding:.8rem 1.2rem; border-radius:8px; transition:.2s;}
.appeals a:hover { border-color: var(--accent); color: var(--accent); }

@media (max-width:600px){ .panel{padding:1rem;} }
</style>
</head>
<body>

<header>
  <h1>NRW RP DE – Reports</h1>
  <div id="userInfo">
    <button id="loginBtn">Mit Discord anmelden</button>
  </div>
</header>

<main>
  <div class="tabs">
    <button class="tabBtn active" data-tab="discord">Discord Report</button>
    <button class="tabBtn" data-tab="roblox">Roblox Report</button>
  </div>

  <div class="panel active" id="discord">
    <form id="discordForm">
      <input type="text" id="discordReporter" placeholder="Dein Name oder ID" required>
      <input type="text" id="discordTarget" placeholder="Gemeldeter Name oder ID" required>
      <select id="discordType" required>
        <option value="">Art des Verstoßes</option>
        <option value="beleidigung">Beleidigung</option>
        <option value="spam">Spam / Werbung</option>
        <option value="cheating">Cheating / Exploits</option>
        <option value="sonstiges">Sonstiges</option>
      </select>
      <textarea id="discordReason" placeholder="Grund des Reports ..." required></textarea>

      <div class="dropzone" id="dropDiscord">Ziehe Beweise hierher oder klicke, um Dateien auszuwählen (max. 3)</div>
      <input type="file" id="discordFiles" multiple accept="image/*" style="display:none">
      <div class="file-preview" id="previewDiscord"></div>

      <button type="submit" class="submit" id="btnDiscord">Absenden</button>
      <div class="success" id="successDiscord">Dein Report wurde gesendet!</div>
    </form>
  </div>

  <div class="panel" id="roblox">
    <form id="robloxForm">
      <input type="text" id="robloxReporter" placeholder="Dein Name oder ID" required>
      <input type="text" id="robloxTarget" placeholder="Gemeldeter Name oder ID" required>
      <select id="robloxType" required>
        <option value="">Art des Verstoßes</option>
        <option value="beleidigung">Beleidigung</option>
        <option value="spam">Spam / Werbung</option>
        <option value="cheating">Cheating / Exploits</option>
        <option value="sonstiges">Sonstiges</option>
      </select>
      <textarea id="robloxReason" placeholder="Grund des Reports ..." required></textarea>

      <div class="dropzone" id="dropRoblox">Ziehe Beweise hierher oder klicke, um Dateien auszuwählen (max. 3)</div>
      <input type="file" id="robloxFiles" multiple accept="image/*" style="display:none">
      <div class="file-preview" id="previewRoblox"></div>

      <button type="submit" class="submit" id="btnRoblox">Absenden</button>
      <div class="success" id="successRoblox">Dein Report wurde gesendet!</div>
    </form>
  </div>

  <div class="appeals">
    <a href="#">Ingame Ban Appeal</a>
    <a href="#">Discord Ban Appeal</a>
  </div>
</main>

<script>
// Tabs
document.querySelectorAll(".tabBtn").forEach(btn => {
  btn.addEventListener("click", () => {
    document.querySelectorAll(".tabBtn").forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    document.querySelectorAll(".panel").forEach(p => p.classList.remove("active"));
    document.getElementById(btn.dataset.tab).classList.add("active");
  });
});

// Drag & Drop
function setupDrop(dropId, fileInputId, previewId) {
  const drop = document.getElementById(dropId);
  const input = document.getElementById(fileInputId);
  const preview = document.getElementById(previewId);

  function showPreview() {
    preview.innerHTML = [...input.files].map(f => f.name).join("<br>");
  }

  drop.addEventListener("click", ()=>input.click());
  drop.addEventListener("dragover", e=>{ e.preventDefault(); drop.classList.add("dragover"); });
  drop.addEventListener("dragleave", ()=>drop.classList.remove("dragover"));
  drop.addEventListener("drop", e=>{
    e.preventDefault(); drop.classList.remove("dragover");
    input.files = e.dataTransfer.files;
    showPreview();
  });
  input.addEventListener("change", showPreview);
}
setupDrop("dropDiscord","discordFiles","previewDiscord");
setupDrop("dropRoblox","robloxFiles","previewRoblox");

// Send Report
const WEBHOOK = "https://discord.com/api/webhooks/1431362730652205206/knBHTnkaX0VSpeynEzjV5mjYvvvsVnuudlbKnNREHErrtbVNNOoeWFfVTcCD3yLUS_d9"; // ersetzen
async function sendReport(type, fields, files, successEl, btn) {
  btn.disabled = true; const orig = btn.textContent; btn.textContent="Senden...";
  const formData = new FormData();
  formData.append("content", `**${type} Report**\nReporter: ${fields.reporter}\nGemeldeter User: ${fields.target}\nKategorie: ${fields.category}\nGrund: ${fields.reason}`);
  if(files){ for(let i=0;i<Math.min(files.length,3);i++) formData.append(`file${i+1}`,files[i]); }
  try {
    const resp = await fetch(WEBHOOK,{method:"POST",body:formData});
    if(resp.ok){ successEl.classList.add("show"); setTimeout(()=>successEl.classList.remove("show"),4000); }
    else alert("Fehler beim Senden");
  } catch(e){ alert("Fehler beim Senden"); }
  btn.disabled=false; btn.textContent=orig;
}

document.getElementById("discordForm").addEventListener("submit", e=>{
  e.preventDefault();
  sendReport("Discord",{
    reporter: discordReporter.value,
    target: discordTarget.value,
    category: discordType.value,
    reason: discordReason.value
  }, discordFiles.files, successDiscord, btnDiscord);
  e.target.reset();
});

document.getElementById("robloxForm").addEventListener("submit", e=>{
  e.preventDefault();
  sendReport("Roblox",{
    reporter: robloxReporter.value,
    target: robloxTarget.value,
    category: robloxType.value,
    reason: robloxReason.value
  }, robloxFiles.files, successRoblox, btnRoblox);
  e.target.reset();
});
</script>
</body>
</html>
